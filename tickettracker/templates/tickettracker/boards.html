{% extends "base.html" %}
{% load i18n staticfiles %}

{% block title %}{% trans 'Boards' %}{% endblock %}

{% block extrastyles %}
    <style>
        .container {
            display: flex; flex-direction: row; overflow-x: scroll;
        }
        .drop-target {
            display: flex; flex-direction: column; overflow-y: scroll;
            margin: 0.5em; padding: 0px;
            min-width: 300px; min-height: 400px; border: 1px solid silver;
        }
        .drop-target h3 {
            font-family: sans-serif; font-weight: bold;
            background-color: aliceblue;
            margin: 0px; padding: 0.5em; border-bottom: 1px solid silver;
        }
        .draggable {
            width: 100%; height: 100px; border-bottom: 1px solid gray;
        }
    </style>
{% endblock %}

{% block content %}
    <div class="container">
        {% for state in states %}
            <div id="board-{{ state.0 }}" class="drop-target">
                <h3>{{ state.1 }}</h3>
                {% for ticket in tickets %}{% if ticket.state == state.0 %}
                    <div id="issue-{{ ticket.id }}" class="draggable" draggable="true">
                        <h4>{{ ticket.id }}</h4>
                        <a href="{% url 'tickettracker:detail' ticket.id %}">{{ ticket.subject }}</a>
                    </div>
                {% endif %}{% endfor %}
            </div>
        {% endfor %}
    </div>
{% endblock %}

{% block extrascripts %}
    <script src="{% static 'tickettracker/js/boards.js' %}"></script>
{% endblock %}
